<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>用图片发送请求</title>
    <link rel="stylesheet" href="./style.css">
    <script src="./main.js"></script> 
</head>
<body>
    <h1>你的账户余额是<span id="amount">&&&amount&&&</span></h1>
    <button id = 'button'>付款</button>
    <script>
        var button = document.getElementById('button')
        var amount = document.getElementById('amount')
        button.addEventListener('click',(e)=>{
            let image = document.createElement('img')
            img.src="/pay"
            image.onload = function(){
                alert('ok')
                var amounts = amount.innerHTML
            amounts = amounts- 1
            amount.innerHTML = amounts
            //这一段代码,使得用户不用刷新整个页面,就看到账户余额变了  就是所谓的局部刷新
                
            }
           
        })
    </script>
    
</body>
</html>